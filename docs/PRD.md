# PRD (Product Requirements Document)

## 1. 문서 목적
- 본 문서는 `simulate_building_sunshade` 제품의 목표, 사용자 가치, 핵심 기능, 요구사항을 정의한다.

## 2. 제품 개요
- 제품명: Simulate Building Sunshade
- 한 줄 설명: 건물 배치/시간/계절/해 뜨는 방향에 따른 일조 상태를 3D로 시각화하는 웹 시뮬레이터
- 대상 사용자:
  - 건물 배치에 따른 채광 변화를 빠르게 확인하려는 사용자
  - 시각적으로 태양 이동과 그림자 변화를 확인하려는 사용자

## 3. 문제 정의
- 정적인 도면이나 수치만으로는 시간대/계절별 일조 변화를 직관적으로 파악하기 어렵다.
- 건물 위치 변경이 일조에 미치는 영향을 즉시 비교하기 어렵다.

## 4. 목표
- 사용자가 1분 이내에 건물 배치와 태양 조건을 바꿔가며 일조 변화를 확인할 수 있게 한다.
- 3D 상호작용 기반으로 직관적인 실험 환경을 제공한다.

## 5. 범위
### In Scope
- 3D 단지 화면 렌더링
- 건물 드래그 이동 및 수치 기반 위치 조정
- 시간 슬라이더 및 자동 재생
- 계절 선택(춘분/하지/추분/동지 기준)
- 해 뜨는 방향(방위각) 다이얼 조정
- 태양 고도/주야 상태 표시

### Out of Scope
- 실제 GIS/위도경도 기반 정밀 천문 계산
- 사용자 계정/저장/공유 기능
- 다중 시나리오 비교 대시보드
- 서버 DB 기반 이력 저장

## 6. 핵심 사용자 시나리오
1. 사용자는 페이지 접속 후 기본 건물 배치를 본다.
2. 시간 슬라이더를 움직여 그림자 변화를 확인한다.
3. 계절을 바꿔 태양 고도 변화를 비교한다.
4. 해 뜨는 방향 다이얼을 조정해 일조 방향 차이를 확인한다.
5. 건물을 드래그하거나 패널에서 이동시켜 일조 변화 결과를 관찰한다.

## 7. 기능 요구사항
### FR-1 3D 시뮬레이션 뷰
- 앱은 지면, 건물, 태양, 환경 오브젝트를 포함한 3D 화면을 렌더링해야 한다.

### FR-2 건물 위치 제어
- 사용자는 건물을 마우스로 드래그하여 이동할 수 있어야 한다.
- 사용자는 패널에서 방향 버튼/슬라이더로 건물 좌표를 조정할 수 있어야 한다.
- 사용자는 건물 위치를 초기 상태로 리셋할 수 있어야 한다.

### FR-3 태양/시간 제어
- 사용자는 0~24시 범위에서 시간을 조절할 수 있어야 한다.
- 자동 재생 모드에서 시간이 연속적으로 증가해야 한다.

### FR-4 계절 제어
- 사용자는 봄/여름/가을/겨울(기준일 포함) 중 하나를 선택할 수 있어야 한다.

### FR-5 방위각 제어
- 사용자는 다이얼로 해 뜨는 방향(0~359도)을 조정할 수 있어야 한다.
- 현재 해 뜨는 방향 및 지는 방향 텍스트가 함께 표시되어야 한다.

### FR-6 상태 정보 표시
- 현재 시간대(오전/오후/저녁/밤)와 태양 고도 정보를 표시해야 한다.

## 8. 비기능 요구사항
- 브라우저에서 부드러운 상호작용이 가능해야 한다(일반 개발 환경 기준).
- 개발/빌드/검증 명령이 일관되게 동작해야 한다.
  - `npm run dev`
  - `npm run build`
  - `npm run check`
- 코드 품질 기준:
  - ESLint 통과
  - TypeScript 타입 체크 통과

## 9. 성공 지표
- 기능 정확성: 시간/계절/방위각 조작 시 태양 위치와 조명 변화가 즉시 반영된다.
- 상호작용 완결성: 건물 이동, 재생/정지, 리셋이 정상 동작한다.
- 품질 기준: CI 또는 로컬에서 lint/typecheck/build가 모두 통과한다.

## 10. 릴리스 기준
- 핵심 기능(FR-1~FR-6) 구현 완료
- `npm run check`, `npm run build` 통과
- README와 문서(PRD/TRD) 최신화 완료
